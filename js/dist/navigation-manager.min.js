/*! HOLY LABEL Navigation Manager v1.0.0 | (c) 2024 | MIT License */
/**
 * HOLY LABEL - Navigation Manager Library
 * Mobile navigation and menu controls
 * @version 1.0.0
 * @namespace window.HolyLabelNavigationManager
 * @requires window.HolyLabelDOMUtils
 */
!function(e){"use strict";const t={elements:{get hamburger(){return(e.HolyLabelDOMUtils||e.DOMUtils).hamburger()},get navArea(){return(e.HolyLabelDOMUtils||e.DOMUtils).navArea()},get body(){return(e.HolyLabelDOMUtils||e.DOMUtils).body()}},isActive(){return this.elements.hamburger?.classList.contains("-active")||!1},toggle(){const{hamburger:t,navArea:i,body:s}=this.elements;if(!t||!i)return;const a=this.isActive(),n=a?"remove":"add";[t,i].forEach(e=>e.classList[n]("-active")),s.classList[n]("body-fixed"),t.setAttribute("aria-expanded",!a),setTimeout(()=>{const t=e.HolyLabelLogoManager||e.LogoManager;t&&"function"==typeof t.updatePosition&&t.updatePosition()},10)},close(){const{hamburger:t,navArea:i,body:s}=this.elements;t&&i&&([t,i].forEach(e=>e.classList.remove("-active")),s.classList.remove("body-fixed"),t.setAttribute("aria-expanded","false"),setTimeout(()=>{const t=e.HolyLabelLogoManager||e.LogoManager;t&&"function"==typeof t.updatePosition&&t.updatePosition()},10))},open(){const{hamburger:t,navArea:i,body:s}=this.elements;t&&i&&([t,i].forEach(e=>e.classList.add("-active")),s.classList.add("body-fixed"),t.setAttribute("aria-expanded","true"),setTimeout(()=>{const t=e.HolyLabelLogoManager||e.LogoManager;t&&"function"==typeof t.updatePosition&&t.updatePosition()},10))},initSubMenus(){(e.HolyLabelDOMUtils||e.DOMUtils).getAll("a.expand").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.nextElementSibling;if(i&&i.classList.contains("ex-list")){const t=e.classList.contains("open");e.classList.toggle("open",!t),i.style.display=t?"none":"block"}})})},initEventListeners(){const{hamburger:t,navArea:i}=this.elements;t&&t.addEventListener("click",()=>this.toggle()),document.addEventListener("click",e=>{!this.isActive()||i?.contains(e.target)||t?.contains(e.target)||this.close()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isActive()&&this.close()}),e.addEventListener("resize",()=>{e.innerWidth>768&&this.isActive()&&this.close()})},initLanguageSwitcher(){const DOMUtils=e.HolyLabelDOMUtils||e.DOMUtils;e.switchLanguage=e=>{const t=DOMUtils.getId("lang-ja"),i=DOMUtils.getId("lang-en");t&&i&&("ja"===e?(t.classList.add("active"),i.classList.remove("active")):"en"===e&&(i.classList.add("active"),t.classList.remove("active")))}},init(){this.initEventListeners(),this.initSubMenus(),this.initLanguageSwitcher(),this.close()}};e.HolyLabelNavigationManager=t,e.NavigationManager||(e.NavigationManager=t)}(window);